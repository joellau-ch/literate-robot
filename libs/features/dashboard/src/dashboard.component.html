<header class="px-4 py-4 text-gray-700">
  <h1 class="text-2xl font-bold leading-7 text-gray-900">Warehouse Flows</h1>
</header>

<main class="px-2 py-4 flex flex-col gap-y-4">
  <div class="flex flex-row gap-x-4">
    <div
      class="bg-white shadow overflow-hidden border-t rounded-lg border-gray-200 px-4 py-4"
    >
      <literate-robot-dashboard-derived
        [data]="fetchData() | async"
      ></literate-robot-dashboard-derived>
    </div>
    <div
      class="bg-white shadow overflow-hidden border-t rounded-lg border-gray-200 px-4 py-4"
    >
      <h2 class="text-xl font-bold leading-7 mb-4">&nbsp;</h2>
      <div class="flex flex-row items-center gap-x-2">
        <label
          class="text-sm inline-block font-medium text-gray-700"
          for="input-time-start"
          >Time&nbsp;Start:
        </label>
        <input
          type="number"
          name="input-time-start"
          id="input-time-start"
          class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
          placeholder="Time Start"
        />
      </div>
      <div class="flex flex-row items-center gap-x-2">
        <label
          class="text-sm inline-block font-medium text-gray-700"
          for="input-time-end"
          >Time&nbsp;End:
        </label>
        <input
          type="text"
          name="input-time-end"
          id="input-time-end"
          class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
          placeholder="Time End"
        />
      </div>
      <div class="flex flex-row items-center gap-x-2">
        <label
          class="text-sm inline-block font-medium text-gray-700"
          for="input-time-end"
          >Running&nbsp;Spot:
        </label>
        <input
          type="text"
          name="input-time-end"
          id="input-time-end"
          class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
          placeholder="Running Spot"
          value="1.3721"
          disabled
        />
      </div>
    </div>
    <div
      class="bg-white shadow overflow-hidden border-t rounded-lg border-gray-200 px-4 py-4"
    >
      <h2 class="text-xl font-bold leading-7">Trade Engine</h2>
      <div class="flex flex-row gap-x-4 mt-4">
        <table>
          <tbody>
            <tr>
              <td class="pr-8">Exposure (USD)</td>
              <td class="text-right">
                {{ -543121.4 | currency: '':'symbol':'0.2-2':'en-SG' }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">Exposure (SGD)</td>
              <td class="text-right">
                {{ 758924.69 | currency: '':'symbol':'0.2-2':'en-SG' }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">PnL</td>
              <td class="text-right">
                {{ 836.34 | currency: '':'symbol':'0.2-2':'en-SG' }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="flex flex-row gap-x-4">
    <div
      class="bg-white shadow overflow-hidden border-t rounded-lg border-gray-200 px-4 py-4"
    >
      <h2 class="text-xl font-bold leading-7">Customer USD Volume</h2>
      <div class="flex flex-row gap-x-4 mt-4">
        <table>
          <tbody>
            <tr>
              <td class="pr-8">Total Buy</td>
              <td class="text-right">
                {{ 1_478_383.64 | currency: '':'symbol':'0.2-2':'en-SG' }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">Total Sell</td>
              <td class="text-right">
                {{ 551_019.97 | currency: '':'symbol':'0.2-2':'en-SG' }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">Total Volume</td>
              <td class="text-right">
                {{ 2_029_413.6 | currency: '':'symbol':'0.2-2':'en-SG' }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div
      class="bg-white shadow overflow-hidden border-t rounded-lg border-gray-200 px-4 py-4"
    >
      <h2 class="text-xl font-bold leading-7">Customer SGD Volume</h2>
      <div class="flex flex-row gap-x-4 mt-4">
        <table>
          <tbody>
            <tr>
              <td class="pr-8">Total Buy</td>
              <td class="text-right">
                {{ 5_675_944.62 | currency: '':'symbol':'0.2-2':'en-SG' }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">Total Sell</td>
              <td class="text-right">
                {{ 3_890_290.33 | currency: '':'symbol':'0.2-2':'en-SG' }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">Total Volume</td>
              <td class="text-right">
                {{ 9_566_234.94 | currency: '':'symbol':'0.2-2':'en-SG' }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div
      class="bg-white shadow overflow-hidden border-t rounded-lg border-gray-200 px-4 py-4"
    >
      <h2 class="text-xl font-bold leading-7">Customer Trades</h2>
      <div class="flex flex-row gap-x-4 mt-4">
        <table>
          <tbody>
            <tr>
              <td class="pr-8">Total Buy</td>
              <td class="text-right">
                {{ 9264 }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">Total Sell</td>
              <td class="text-right">
                {{ 1544 }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">Total Volume</td>
              <td class="text-right">
                {{ 10328 }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div
      class="bg-white shadow overflow-hidden border-t rounded-lg border-gray-200 px-4 py-4"
    >
      <h2 class="text-xl font-bold leading-7">&nbsp;</h2>
      <div class="flex flex-row gap-x-4 mt-4">
        <table>
          <tbody>
            <tr>
              <td class="pr-8">Closing Price</td>
              <td class="text-right">
                {{ 9264 }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">Closing Trade</td>
              <td class="text-right">
                {{ 1544 }}
              </td>
            </tr>
            <tr>
              <td class="pr-8">Closing SGD</td>
              <td class="text-right">
                {{ 10328 }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div
    class="bg-white shadow overflow-hidden border-t rounded-lg border-gray-200 px-4 py-4 flex flex-col gap-y-4"
  >
    <header class="flex flex-row items-baseline justify-between">
      <h2 class="text-xl font-bold leading-7 text-gray-700">Trades</h2>
      <div class="flex flex-row items-baseline gap-x-4">
        <div class="flex flex-row items-baseline gap-x-2">
          <label
            class="text-sm font-medium text-gray-700"
            for="select-pricing-source"
            >Source:
          </label>
          <select
            id="select-pricing-source"
            name="select-pricing-source"
            autocomplete="select-pricing-source"
            class="mt-1 w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
          >
            <option value="binance" selected>Binance</option>
            <option value="p2">P2</option>
          </select>
        </div>
        <div class="flex flex-row items-baseline gap-x-2">
          <label
            class="text-sm inline-block font-medium text-gray-700"
            for="input-spread"
            >Spread:
          </label>
          <input
            type="number"
            name="input-spread"
            id="input-spread"
            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
            placeholder="Spread"
          />
        </div>
        <div class="flex flex-row items-baseline gap-x-2">
          <label
            class="text-sm inline-block font-medium text-gray-700"
            for="input-price-buffer"
            >Price&nbsp;Buffer:
          </label>
          <input
            type="number"
            name="input-price-buffer"
            id="input-price-buffer"
            class="mt-1 focus:ring-indigo-500 focus:border-indigo-500 w-full shadow-sm sm:text-sm border-gray-300 rounded-md"
            placeholder="Price Buffer"
          />
        </div>
        <div class="flex flex-row items-baseline gap-x-2">
          <label
            class="text-sm inline-block font-medium text-gray-700"
            for="input-search"
            >Search:
          </label>
          <input
            type="text"
            name="input-search"
            id="input-search"
            placeholder="Search"
          />
        </div>
      </div>
    </header>
    <literate-robot-dashboard-table
      [data]="fetchData() | async"
    ></literate-robot-dashboard-table>
  </div>
</main>
